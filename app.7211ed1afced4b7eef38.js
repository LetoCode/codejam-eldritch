(()=>{var e={799:()=>{const e=document.querySelector("body"),r=document.querySelector(".btn_begin"),c=document.querySelector(".aincients._onload_out_side"),a=document.querySelector(".main__text._aincient._onload_out_side");function o(r){r&&(r.classList.remove("_open"),r.classList.add("_closed"),e.classList.remove("popup-open"),c.classList.remove("_onload_out_side"),a.classList.remove("_onload_out_side"))}r.addEventListener("click",(function(e){document.querySelector(".popup._open ").classList.add("_fangs_off"),r.classList.add("_fangs_off");const c=e.target.closest(".popup");setTimeout(o,500,c)})),o()}},r={};function c(a){var o=r[a];if(void 0!==o)return o.exports;var n=r[a]={exports:{}};return e[a](n,n.exports,c),n.exports}c.d=(e,r)=>{for(var a in r)c.o(r,a)&&!c.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e;c.g.importScripts&&(e=c.g.location+"");var r=c.g.document;if(!e&&r&&(r.currentScript&&(e=r.currentScript.src),!e)){var a=r.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),c.p=e})();var a={};(()=>{"use strict";c.d(a,{yj:()=>ce,Ls:()=>re,tU:()=>se,iv:()=>ee,v6:()=>oe,UT:()=>ie}),c(799);const e=document.querySelector(".cards__deck"),r=document.querySelector(".card-deck__face"),o=document.querySelector(".card-deck__back"),n=document.querySelector(".card_rotated.face-side img"),t=document.querySelector(".card_rotated.back-side img"),d=document.querySelector(".rotated-img__container"),s=document.querySelector(".card_rotated.face-side"),i=document.querySelector(".card_rotated.back-side");let l,u,b;function f(e){l=e||""}function g(){o.style.backgroundImage="url('".concat(l,"')")}function p(e){b=e||""}o.addEventListener("click",(function e(){o.removeEventListener("click",e);const c=oe.pop(),a=c.cardFace;f(0===oe.length?"":oe[oe.length-1].cardCover),g(),p(a),t.setAttribute("src",l),n.setAttribute("src",b),d.classList.add("_visible"),s.classList.add("_visible"),i.classList.add("_visible"),ie(c),se(),setTimeout((function(){u=a||"",r.style.backgroundImage="url('".concat(u,"')"),d.classList.remove("_visible"),s.classList.remove("_visible"),i.classList.remove("_visible"),o.addEventListener("click",e)}),400)}));const v={azathoth:c.p+"assets/e76cc60e6f2b9bb167ce.png",cthulhu:c.p+"assets/e7bfd029744dc9f87c1a.png",iogSothoth:c.p+"assets/c5b7717bff973cda27be.png",shubNiggurath:c.p+"assets/68c4272e00c9596e65b1.png"},w={blue1:c.p+"assets/09c8e5eb50dc7666f1aa.png",blue2:c.p+"assets/3cc352cdc8fade5dad4c.png",blue3:c.p+"assets/fdd1d10ff513774eb841.png",blue4:c.p+"assets/f09f0f715e525a0b50ec.png",blue5:c.p+"assets/e3e8792622b0c75c78c1.png",blue6:c.p+"assets/cf323c98a3f54632a66c.png",blue7:c.p+"assets/4cdb1bd641372e2d0f74.png",blue8:c.p+"assets/02a9eec68518951fc18e.png",blue9:c.p+"assets/d3371911f8f0d84b5585.png",blue10:c.p+"assets/c61c9f73492d8cd7027c.png",blue11:c.p+"assets/f7e6552a92e4b878107a.png",blue12:c.p+"assets/204f9160083e529ab763.png"},y={brown1:c.p+"assets/ac85e7db9ab360fe235a.png",brown2:c.p+"assets/c44579505d0d3ccfd7c8.png",brown3:c.p+"assets/caababcab21e08510c27.png",brown4:c.p+"assets/e387b64a537a0fb25c84.png",brown5:c.p+"assets/709f87f82c146ab3189a.png",brown6:c.p+"assets/23453f970c4a388f8b68.png",brown7:c.p+"assets/7da5050420b14d67a481.png",brown8:c.p+"assets/2126fcd965be3b428dca.png",brown9:c.p+"assets/3d69a01cdd56175f304e.png",brown10:c.p+"assets/703068f44f9153534f9c.png",brown11:c.p+"assets/157fd0a92444cc2a245f.png",brown12:c.p+"assets/920b1409d3f7d006e764.png",brown13:c.p+"assets/a8d77ff5b5eaa534b968.png",brown14:c.p+"assets/f5d21e1965d8ec808bc2.png",brown15:c.p+"assets/036f8f91eccd0e8f9708.png",brown16:c.p+"assets/1fd61bbd111986a0965a.png",brown17:c.p+"assets/6a53cc04a2d6cbb63677.png",brown18:c.p+"assets/c537bfb2cd284c9667ae.png",brown19:c.p+"assets/199841521c55940d0d03.png",brown20:c.p+"assets/1182a8f80bd2272b3d07.png",brown21:c.p+"assets/3a8e72879e11c315c59d.png"},h={green1:c.p+"assets/ee9218f13d2668469469.png",green2:c.p+"assets/1a1b4da17274000ce3a8.png",green3:c.p+"assets/24a6de1c53f0cc14bb95.png",green4:c.p+"assets/d9d9a3dc837a4101fc61.png",green5:c.p+"assets/0634bb414e136066d46f.png",green6:c.p+"assets/ca07046ad17914ec04d0.png",green7:c.p+"assets/f9d8238c6770bdc97f73.png",green8:c.p+"assets/bc5f83ed7ced1b832494.png",green9:c.p+"assets/bc368631ac89e5bf0891.png",green10:c.p+"assets/766beb973fc76ac9564e.png",green11:c.p+"assets/305fdb3b09ad909c598f.png",green12:c.p+"assets/b786b0a5e0aaf884c27b.png",green13:c.p+"assets/b3e3243ad3927ba66da7.png",green14:c.p+"assets/20b6b1be80bef6932ab0.png",green15:c.p+"assets/63677766cd3a4cea8da0.png",green16:c.p+"assets/608e0aecaccf5ff896fb.png",green17:c.p+"assets/0ebea1f5b536a0b85765.png",green18:c.p+"assets/268edbdc27e016d06a52.png"},C={snubNiggurath:c.p+"assets/a11af4d6fd10763a806b.jpg",azathoth:c.p+"assets/be92d58d7d90898bb783.jpg",cthulhu:c.p+"assets/7b76a7b652f987489a56.jpg",iogSothoth:c.p+"assets/507e4c3e23fe0c1ff410.png",begin:c.p+"assets/1d197ce8289264714167.jpg"},m={coverBlue:c.p+"assets/63513cc0acea3c7c03e4.jpg",coverBrown:c.p+"assets/90e2e7490918f4b9eae0.jpg",coverGreen:c.p+"assets/48a6401ab9478f75a1c1.jpg"},_=[{id:"azathoth",name:"azathoth",cardFace:v.azathoth,bg:C.azathoth,firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:2,blueCards:0,brownCards:4}},{id:"cthulhu",name:"cthulhu",cardFace:v.cthulhu,bg:C.cthulhu,firstStage:{greenCards:0,blueCards:2,brownCards:2},secondStage:{greenCards:1,blueCards:0,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"iogSothoth",name:"iogSothoth",cardFace:v.iogSothoth,bg:C.iogSothoth,firstStage:{greenCards:0,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"shubNiggurath",name:"shubNiggurath",cardFace:v.shubNiggurath,bg:C.snubNiggurath,firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:3,blueCards:1,brownCards:2},thirdStage:{greenCards:2,blueCards:0,brownCards:4}}],F=[{id:"blue1",cardFace:w.blue1,cardCover:m.coverBlue,difficulty:"hard",color:"blue"},{id:"blue2",cardFace:w.blue2,cardCover:m.coverBlue,difficulty:"hard",color:"blue"},{id:"blue3",cardFace:w.blue3,cardCover:m.coverBlue,difficulty:"easy",color:"blue"},{id:"blue4",cardFace:w.blue4,cardCover:m.coverBlue,difficulty:"easy",color:"blue"},{id:"blue5",cardFace:w.blue5,cardCover:m.coverBlue,difficulty:"easy",color:"blue"},{id:"blue6",cardFace:w.blue6,cardCover:m.coverBlue,difficulty:"hard",color:"blue"},{id:"blue7",cardFace:w.blue7,cardCover:m.coverBlue,difficulty:"normal",color:"blue"},{id:"blue8",cardFace:w.blue8,cardCover:m.coverBlue,difficulty:"hard",color:"blue"},{id:"blue9",cardFace:w.blue9,cardCover:m.coverBlue,difficulty:"normal",color:"blue"},{id:"blue10",cardFace:w.blue10,cardCover:m.coverBlue,difficulty:"easy",color:"blue"},{id:"blue11",cardFace:w.blue11,cardCover:m.coverBlue,difficulty:"normal",color:"blue"},{id:"blue12",cardFace:w.blue12,cardCover:m.coverBlue,difficulty:"normal",color:"blue"}],B=[{id:"brown1",cardFace:y.brown1,cardCover:m.coverBrown,difficulty:"normal",color:"brown"},{id:"brown2",cardFace:y.brown2,cardCover:m.coverBrown,difficulty:"normal",color:"brown"},{id:"brown3",cardFace:y.brown3,cardCover:m.coverBrown,difficulty:"normal",color:"brown"},{id:"brown4",cardFace:y.brown4,cardCover:m.coverBrown,difficulty:"normal",color:"brown"},{id:"brown5",cardFace:y.brown5,cardCover:m.coverBrown,difficulty:"normal",color:"brown"},{id:"brown6",cardFace:y.brown6,cardCover:m.coverBrown,difficulty:"hard",color:"brown"},{id:"brown7",cardFace:y.brown7,cardCover:m.coverBrown,difficulty:"hard",color:"brown"},{id:"brown8",cardFace:y.brown8,cardCover:m.coverBrown,difficulty:"hard",color:"brown"},{id:"brown9",cardFace:y.brown9,cardCover:m.coverBrown,difficulty:"hard",color:"brown"},{id:"brown10",cardFace:y.brown10,cardCover:m.coverBrown,difficulty:"hard",color:"brown"},{id:"brown11",cardFace:y.brown11,cardCover:m.coverBrown,difficulty:"easy",color:"brown"},{id:"brown12",cardFace:y.brown12,cardCover:m.coverBrown,difficulty:"easy",color:"brown"},{id:"brown13",cardFace:y.brown13,cardCover:m.coverBrown,difficulty:"easy",color:"brown"},{id:"brown14",cardFace:y.brown14,cardCover:m.coverBrown,difficulty:"easy",color:"brown"},{id:"brown15",cardFace:y.brown15,cardCover:m.coverBrown,difficulty:"normal",color:"brown"},{id:"brown16",cardFace:y.brown16,cardCover:m.coverBrown,difficulty:"normal",color:"brown"},{id:"brown17",cardFace:y.brown17,cardCover:m.coverBrown,difficulty:"normal",color:"brown"},{id:"brown18",cardFace:y.brown18,cardCover:m.coverBrown,difficulty:"normal",color:"brown"},{id:"brown19",cardFace:y.brown19,cardCover:m.coverBrown,difficulty:"normal",color:"brown"},{id:"brown20",cardFace:y.brown20,cardCover:m.coverBrown,difficulty:"normal",color:"brown"},{id:"brown21",cardFace:y.brown21,cardCover:m.coverBrown,difficulty:"easy",color:"brown"}],S=[{id:"green1",cardFace:h.green1,cardCover:m.coverGreen,difficulty:"easy",color:"green"},{id:"green2",cardFace:h.green2,cardCover:m.coverGreen,difficulty:"hard",color:"green"},{id:"green3",cardFace:h.green3,cardCover:m.coverGreen,difficulty:"hard",color:"green"},{id:"green4",cardFace:h.green4,cardCover:m.coverGreen,difficulty:"hard",color:"green"},{id:"green5",cardFace:h.green5,cardCover:m.coverGreen,difficulty:"hard",color:"green"},{id:"green6",cardFace:h.green6,cardCover:m.coverGreen,difficulty:"hard",color:"green"},{id:"green7",cardFace:h.green7,cardCover:m.coverGreen,difficulty:"normal",color:"green"},{id:"green8",cardFace:h.green8,cardCover:m.coverGreen,difficulty:"normal",color:"green"},{id:"green9",cardFace:h.green9,cardCover:m.coverGreen,difficulty:"normal",color:"green"},{id:"green10",cardFace:h.green10,cardCover:m.coverGreen,difficulty:"normal",color:"green"},{id:"green11",cardFace:h.green11,cardCover:m.coverGreen,difficulty:"normal",color:"green"},{id:"green12",cardFace:h.green12,cardCover:m.coverGreen,difficulty:"easy",color:"green"},{id:"green13",cardFace:h.green13,cardCover:m.coverGreen,difficulty:"normal",color:"green"},{id:"green14",cardFace:h.green14,cardCover:m.coverGreen,difficulty:"normal",color:"green"},{id:"green15",cardFace:h.green15,cardCover:m.coverGreen,difficulty:"normal",color:"green"},{id:"green16",cardFace:h.green16,cardCover:m.coverGreen,difficulty:"easy",color:"green"},{id:"green17",cardFace:h.green17,cardCover:m.coverGreen,difficulty:"easy",color:"green"},{id:"green18",cardFace:h.green18,cardCover:m.coverGreen,difficulty:"easy",color:"green"}];let L,q,G;function E(){if(L.length<ee){const e=S.filter((e=>"normal"===e.difficulty)),r=ee-L.length,c=k(T(e),r);L=L.concat(c)}if(q.length<re){const e=B.filter((e=>"normal"===e.difficulty)),r=re-q.length,c=k(T(e),r);q=q.concat(c)}if(G.length<ce){const e=F.filter((e=>"normal"===e.difficulty)),r=ce-G.length,c=k(T(e),r);G=G.concat(c)}}function T(e){let r=[].concat(e);const c=10*r.length;for(let e=1;e<=c;e++)r.sort((()=>Math.random()-Math.random()));return r}function k(e,r){if(e.length>=r)return e.slice(0,r);alert("Не хватает карт обычной сложности для дополнения колоды!")}function x(e,r){let c={};for(const[o,n]of Object.entries(e)){const e=r[o],t=n;let d=[];for(let r=1;r<=t;r++){const r=(a=e.length,Math.floor(Math.random()*(a-1))),c=e[r];d.push(c),e.splice(r,1)}c[o]=d}var a;let o=[];for(const e of Object.values(c))e.forEach((e=>{o.push(e)}));return o}const j=document.querySelector(".aincients"),I=document.querySelectorAll(".aincients__card"),O=document.getElementById("stageOneGreen"),A=document.getElementById("stageOneBrown"),N=document.getElementById("stageOneBlue"),z=document.getElementById("stageTwoGreen"),M=document.getElementById("stageTwoBrown"),P=document.getElementById("stageTwoBlue"),$=document.getElementById("stageTreeGreen"),U=document.getElementById("stageTreeBrown"),D=document.getElementById("stageTreeBlue"),H=document.querySelector(".btn_start"),J=document.querySelectorAll(".level__btn"),K=document.querySelector(".main__text._aincient"),Q=document.querySelector(".main__text._level"),R=document.querySelector(".deck__stages._onload_out_side"),V=document.querySelector(".menu._onload_out_side"),W=document.querySelector(".popup_end");let X,Y,Z,ee,re,ce,ae,oe,ne=!1,te=!1,de=!1;function se(){O.innerText=X.greenCards,A.innerText=X.brownCards,N.innerText=X.blueCards,z.innerText=Y.greenCards,M.innerText=Y.brownCards,P.innerText=Y.blueCards,$.innerText=Z.greenCards,U.innerText=Z.brownCards,D.innerText=Z.blueCards}function ie(e){const r="".concat(e.color,"Cards");if(0==X[r]){if(0==Y[r])return 0!=Z[r]?(Z[r]=Z[r]-1,void(0===oe.length&&W.classList.add("_open"))):void 0;Y[r]=Y[r]-1}else X[r]=X[r]-1}document.addEventListener("click",(function(r){if(r.target.closest(".aincients")){const e=r.target.closest(".aincients__card").id,a=(c=e,_.filter((e=>e.id===c)));a.length>0?(function(e){X=e[0].firstStage,Y=e[0].secondStage,Z=e[0].thirdStage,ee=X.greenCards+Y.greenCards+Z.greenCards,re=X.brownCards+Y.brownCards+Z.brownCards,ce=X.blueCards+Y.blueCards+Z.blueCards}(a),se(),function(e){const r=new Image;r.src=e[0].bg,r.onload=()=>{document.body.style.backgroundImage="url(".concat(e[0].bg,")")}}(a),te=!0):alert("aincientData.length = 0"),function(e){I.forEach((r=>{r.id===e?(r.classList.add("_active"),r.classList.remove("_inActive")):(r.classList.add("_inActive"),r.classList.remove("_active"))}))}(e),j.classList.add("_active"),K.classList.add("_onload_out_side"),R.classList.remove("_onload_out_side"),V.classList.remove("_onload_out_side"),Q.classList.remove("_onload_out_side")}var c;if(r.target.closest(".menu")&&J.forEach((e=>{e.firstElementChild.checked&&(de=!0,Q.classList.add("_onload_out_side"),ae=e.firstElementChild.id)})),r.target===H&&(!1===te&&alert("Не выбран древний!"),!1===de&&alert("Не выбран уровень!"),te&&de&&!ne)){ne=!0;const r=function(e){return"veryLow"===e&&(L=S.filter((e=>"easy"===e.difficulty)),q=B.filter((e=>"easy"===e.difficulty)),G=F.filter((e=>"easy"===e.difficulty)),E()),"low"===e&&(L=S.filter((e=>"hard"!=e.difficulty)),q=B.filter((e=>"hard"!=e.difficulty)),G=F.filter((e=>"hard"!=e.difficulty))),"normal"===e&&(L=S,q=B,G=F),"high"===e&&(L=S.filter((e=>"easy"!=e.difficulty)),q=B.filter((e=>"easy"!=e.difficulty)),G=F.filter((e=>"easy"!=e.difficulty))),"veryHigh"===e&&(L=S.filter((e=>"hard"===e.difficulty)),q=B.filter((e=>"hard"===e.difficulty)),G=F.filter((e=>"hard"===e.difficulty)),E()),{greenCards:L,brownCards:q,blueCards:G}}(ae),c=function(e){let r={};for(const[c,a]of Object.entries(e)){const e=T(a);r[c]=e}return r}(r);let a=x(X,c),o=x(Y,c),n=x(Z,c);a=T(a),o=T(o),n=T(n),oe=n.concat(o).concat(a),f(oe[oe.length-1].cardCover),g(),p(oe[oe.length-1].cardFace),e.classList.add("_active")}}))})()})();